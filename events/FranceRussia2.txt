###########################
# French Events
###########################

add_namespace = frances

# Invite France
country_event = {
	id = frances.1
	title = frances.1.t
	desc = frances.1.d
	picture = GFX_report_event_stalin_meeting

	is_triggered_only = yes

	option = {
		ai_chance = {
			factor = 60
			modifier = {
				has_government = communism
				factor = 100
			}
		}
		name = frances.1.a
		SOV = { add_to_faction = FRA }
		hidden_effect = {
			news_event = { hours = 6 id = newsrussia2.19 }
		}
	}

	option = {
		ai_chance = {
			factor = 40
			modifier = {
				has_government = communism
				factor = 0
			}
		}
		name = frances.1.b
		hidden_effect = {
			SOV = {
				country_event = { id = frances.2 days = 1 }
			}
		}
	}
}

#France Refuse
country_event = {
	id = frances.2
	title = frances.2.t
	desc = frances.2.d
	picture = GFX_report_event_degaulle_churchill

	is_triggered_only = yes

	option = {
		ai_chance = {
			factor = 100
		}
		name = frances.2.a
	}
}

# Ask France to remove its guarantees
country_event = {
	id = frances.3
	title = frances.3.t
	desc = frances.3.d
	picture = GFX_report_event_pierre_laval

	is_triggered_only = yes

	option = {
		ai_chance = {
			factor = 75
			modifier = {
				has_war = yes
				factor = 100
			}
		}
		name = frances.3.a
		custom_effect_tooltip = france_guarantee_cancel_tt
		every_country = {
			limit = {
				is_guaranteed_by = FRA
				any_state = {
					has_state_flag = slavic_states
					is_controlled_by = PREV
				}
			}
			hidden_effect = {
				FRA = {
					diplomatic_relation = {
						country = PREV
					  	relation = guarantee
					  	active = no
					}
					diplomatic_relation = {
						country = ROM
					  	relation = guarantee
					  	active = no
					}
				}
			}
		}
		diplomatic_relation = {
			country = SOV
			relation = non_aggression_pact
			active = yes
		}
		set_country_flag = signed_slavic_pact
		SOV = {
			country_event = { id = frances.4 days = 1 }
		}
		hidden_effect = {
			news_event = {
				id = newsrussia2.110 days = 2
			}
		}
	}

	option = {
		ai_chance = {
			factor = 25
			modifier = {
				has_war = yes
				factor = 0
			}
		}
		name = frances.3.b
		SOV = {
			country_event = { id = frances.5 days = 1 }
		}
	}
}

#France Accepts
country_event = {
	id = frances.4
	title = frances.4.t
	desc = frances.4.d
	picture = GFX_report_event_degaulle_churchill

	is_triggered_only = yes

	option = { #Thank you
		ai_chance = {
			factor = 100
		}
		name = frances.4.a
	}
}

#France Refuses
country_event = {
	id = frances.5
	title = frances.5.t
	desc = frances.5.d
	picture = GFX_report_event_por_president_military_inspection

	is_triggered_only = yes

	option = { #Damn
		ai_chance = {
			factor = 100
		}
		name = frances.5.a
	}
}

#SOV Help Arrives
country_event = {
	id = frances.6
	title = frances.6.t
	desc = frances.6.d
	picture = GFX_report_event_generic_rifles

	is_triggered_only = yes

	option = {
		ai_chance = {
			factor = 100
		}
		name = frances.6.a
		if = {
			limit = {
				has_capitulated = no
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 4000
				producer = SOV
			}
			add_opinion_modifier = { target = FROM modifier = russian_help }
		}
		else_if = {
			limit = {
				has_capitulated = yes
				NOT = { has_government = communism }
			}
			add_timed_idea = { idea = FRA_Russian_help days = 730 }
			add_opinion_modifier = { target = FROM modifier = russian_help }
		}
		else_if = {
			limit = {
				has_capitulated = yes
				has_government = communism
			}
			add_timed_idea = { idea = FRA_Russian_help days = 730 }
			add_opinion_modifier = { target = FROM modifier = russian_help }
		}
	}
}

#SOV Send Ultimatum for France to Join their Faction
country_event = {
	id = frances.7
	title = frances.7.t
	desc = frances.7.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {#Join
		ai_chance = {
			factor = 75
			modifier = {
				factor = 30
				has_idea = SOV_Allies_menace
			}
		}
		name = frances.7.a
		FRA = {
			add_ai_strategy = {
				type = alliance
				id = SOV
				value = 100
			}
		}
		SOV = {
			add_ai_strategy = {
				type = alliance
				id = FRA
				value = 100
			}
		}
		SOV = {
			country_event = { id = frances.8 days = 1 }
		}
	}

	option = {#No
		ai_chance = {
			factor = 25
			modifier = {
				factor = 70
				has_idea = SOV_Allies_menace
			}
		}
		name = frances.7.b
		SOV = {
			country_event = { id = frances.9 days = 1 }
		}
	}
}

#France Accept Ultimatum Faction
country_event = {
	id = frances.8
	title = frances.8.t
	desc = frances.8.d
	picture = GFX_report_event_gre_allied_diplomacy_military

	is_triggered_only = yes

	option = {#Join
		ai_chance = {
			factor = 100
		}
		name = frances.8.a
		if = {
			limit = {
				SOV = {
					is_faction_leader = yes
				}
			}
			SOV = {
				add_to_faction = FRA
			}
		}
		else = {
			SOV = {
				diplomatic_relation = {
					country = FRA
					relation = non_aggression_pact
					active = yes
				}
			}
		}
	}
}

#France Refuse Ultimatum Faction
country_event = {
	id = frances.9
	title = frances.9.t
	desc = frances.9.d
	picture = GFX_report_event_french_british_officers

	is_triggered_only = yes

	option = {#Destroy
		ai_chance = {
			factor = 100
		}
		name = frances.9.a
		SOV = {
			add_opinion_modifier = {
				target = FRA
				modifier = refused_russian_alliance
			}
		}
	}
}

#SOV Fate of France United Russia
country_event = {
	id = frances.10
	title = frances.10.t
	desc = frances.10.d
	picture = GFX_report_event_generic_parliament

	is_triggered_only = yes

	option = {#Ultimatum for Puppet
		ai_chance = {
			factor = 25
			modifier = {
				factor = 90
				has_idea = SOV_Allies_menace
			}
		}
		name = frances.10.a
		FRA = {
			country_event = { id = frances.11 days = 1 }
		}
	}

	option = {#Ultimatum for Alliance
		ai_chance = {
			factor = 75
			modifier = {
				factor = 10
				has_idea = SOV_Allies_menace
			}
		}
		name = frances.10.b
		FRA = {
			country_event = { id = frances.7 days = 1 }
		}
	}
}

#SOV Wants to take control of our government
country_event = {
	id = frances.11
	title = frances.11.t
	desc = frances.11.d
	picture = GFX_report_event_finnish_letter

	is_triggered_only = yes

	option = {#Accept
		ai_chance = {
			factor = 15
			modifier = {
				factor = 70
				OR = {
					SOV = {
						num_of_factories > 250
						num_subjects > 10
						strength_ratio = {
							tag = FRA
							ratio > 0.7
						}
					}
					GER = {
						is_subject_of = SOV
					}
				}
			}
		}
		name = frances.11.a
		SOV = {
			country_event = { id = frances.12 days = 1 }
			set_country_flag = france_is_puppet_united_russia
		}
	}

	option = {#Refuse
		ai_chance = {
			factor = 85
			modifier = {
				factor = 25
				OR = {
					SOV = {
						num_of_factories > 250
						num_subjects > 10
						strength_ratio = {
							tag = FRA
							ratio > 0.7
						}
					}
					GER = {
						is_subject_of = SOV
					}
				}
			}
		}
		name = frances.11.b
		SOV = {
			country_event = { id = frances.13 days = 1 }
		}
	}
}

#France Accept Puppet
country_event = {
	id = frances.12
	title = frances.12.t
	desc = frances.12.d
	picture = GFX_report_event_gre_cabinet_meeting

	is_triggered_only = yes

	option = {#Good
		ai_chance = {
			factor = 100
		}
		name = frances.12.a
		SOV = {
			set_autonomy = {
				target = FRA
				autonomy_state = autonomy_russian_influence
			}
			set_variable = { france_puppetization_united_russia = 0 }
		}
	}
}

#France Refuse Puppet
country_event = {
	id = frances.13
	title = frances.13.t
	desc = frances.13.d
	picture = GFX_report_event_french_british_officers

	is_triggered_only = yes

	option = {#Damn
		ai_chance = {
			factor = 100
		}
		name = frances.13.a
		SOV = {
			create_wargoal = {
				target = FRA
				type = puppet_wargoal_focus
			}
		}
	}
}

#Receive Russian Factories
country_event = {
	id = frances.14
	title = frances.14.t
	desc = frances.14.d
	picture = GFX_report_event_generic_truck

	is_triggered_only = yes

	option = {#Sweet Factories
		ai_chance = {
			factor = 100
		}
		name = frances.14.a
		random_owned_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		random_owned_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		random_owned_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		random_owned_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		random_owned_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		random_owned_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		random_owned_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		random_owned_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		random_owned_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		random_owned_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
}

#White Guard Accept offer
country_event = {
	id = frances.15
	title = frances.15.t
	desc = frances.15.d
	picture = GFX_report_event_canada_treaty

	is_triggered_only = yes

	option = {#Good
		ai_chance = {
			factor = 100
		}
		name = frances.15.a
		custom_effect_tooltip = if_we_accept_and_send_volunteers_gain_good_tt
		custom_effect_tooltip = upon_start_civil_war_idea_tt
		show_ideas_tooltip = SOV_Participation_russian_civil_war_foreign
	}
}